(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
window&&(window.fluxury=require("./lib/fluxury"));
},{"./lib/fluxury":2}],2:[function(require,module,exports){
"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _dispatch(e,t){try{if("string"==typeof e)dispatcher.dispatch({type:e,data:t});else{if("object"!==("undefined"==typeof e?"undefined":_typeof(e)))throw"type must be string or object";dispatcher.dispatch(e)}return Promise.resolve({type:e,data:t})}catch(e){return Promise.reject(e)}}function createStore(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=void 0,r=new _events.EventEmitter,i={},a=void 0,o=function(){};if("function"==typeof e)n=e(void 0,{},o),a=e;else{if("object"!==("undefined"==typeof e?"undefined":_typeof(e)))throw new Error("first argument must be object or function",e);n="function"==typeof e.getInitialState?e.getInitialState(void 0,{},o):void 0,a=function(t,n){return n&&"string"==typeof n.type&&e.hasOwnProperty(n.type)?e[n.type](t,n.data,waitFor):t},i=Object.keys(e).reduce(function(e,t){return e[t]=function(e){return dispatcher.dispatch({type:t,data:e})},e},{})}var c=Object.keys(t).reduce(function(e,r,i){var a={};return a[r]=function(){for(var e=arguments.length,i=Array(e),a=0;a<e;a++)i[a]=arguments[a];return t[r].apply(t,[n].concat(i))},Object.assign(e,a)},{});return Object.freeze(Object.assign({},c,i,{dispatchToken:dispatcher.register(function(e){var t=a(n,e,waitFor);n!==t&&(n="object"===("undefined"==typeof t?"undefined":_typeof(t))?Object.freeze(t):t,r.emit("changed"))}),subscribe:function(e){if("function"!=typeof e)throw"Callback must be a function";return r.addListener("changed",e),count+=1,function(){r.removeListener("changed",e)}},reduce:function(e,t){return a(e,t,waitFor)},setState:function(e){n=e},dispatch:function(){return _dispatch.apply(void 0,arguments)},getState:function(e){return n}}))}function composeStore(){function e(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length&&"object"===_typeof(t[0])&&"undefined"==typeof t[0].getState}function t(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.apply(void 0,r)?Object.keys(r[0]).reduce(function(e,t){return e[t]=r[0][t].getState(),e},{}):r.map(function(e){return e.getState()})}function n(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e?Object.keys(n[0]).reduce(function(e,t){return e.concat(n[0][t])},[]):(n.forEach(function(e){"function"!=typeof e.getState&&console&&console.log&&console.log("ERROR: invalid store")}),n)}for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=e.apply(void 0,i),c=t.apply(void 0,[o].concat(i)),s=n.apply(void 0,[o].concat(i)),u=s.map(function(e){return e.dispatchToken});return createStore(function(){var e=arguments.length<=0||void 0===arguments[0]?c:arguments[0],n=(arguments[1],arguments[2]);n(u);var r=t.apply(void 0,[o].concat(i));if(o){if(Object.keys(i[0]).reduce(function(t,n){return t&&e[n]===r[n]},!0))return e}else if(e.length===r.length&&e.every(function(e,t){return e===r[t]}))return e;return r},{getState:function(e){return t.apply(void 0,[o].concat(_toConsumableArray(e)))}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.composeStore=exports.createStore=exports.dispatch=void 0;var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_events=require("events"),invariant=function(e,t,n,r,i,a,o,c){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,a,o,c],l=0;s=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return u[l++]}))}throw s.framesToPop=1,s}},_lastID=1,_prefix="ID_",Dispatcher=function(){function e(){_classCallCheck(this,e),this._callbacks={},this._isPending={},this._isHandled={},this._isDispatching=!1,this._pendingPayload=null}return _createClass(e,[{key:"register",value:function(e){var t=_prefix+_lastID++;return this._callbacks[t]=e,t}},{key:"unregister",value:function(e){invariant(this._callbacks[e],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",e),delete this._callbacks[e]}},{key:"waitFor",value:function(e){invariant(this._isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?invariant(this._isHandled[n],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):(invariant(this._callbacks[n],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n),this._invokeCallback(n))}}},{key:"dispatch",value:function(e){invariant(!this._isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}}},{key:"isDispatching",value:function(){return this._isDispatching}},{key:"_invokeCallback",value:function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0}},{key:"_startDispatching",value:function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0}},{key:"_stopDispatching",value:function(){this._pendingPayload=null,this._isDispatching=!1}}]),e}(),count=0;Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r){r=Object(r);for(var i=Object.keys(r),a=0,o=i.length;a<o;a++){var c=i[a],s=Object.getOwnPropertyDescriptor(r,c);void 0!==s&&s.enumerable&&(t[c]=r[c])}}}return t}}),Object.freeze||(Object.freeze=function(e){if(Object(e)!==e)throw new TypeError("Object.freeze can only be called on Objects.");return e});var dispatcher=new Dispatcher,waitFor=dispatcher.waitFor.bind(dispatcher);exports.dispatch=_dispatch,exports.createStore=createStore,exports.composeStore=composeStore;
},{"events":3}],3:[function(require,module,exports){
function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,i,n,s,r,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var h=new Error('Uncaught, unspecified "error" event. ('+t+")");throw h.context=t,h}if(i=this._events[e],isUndefined(i))return!1;if(isFunction(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),i.apply(this,s)}else if(isObject(i))for(s=Array.prototype.slice.call(arguments,1),o=i.slice(),n=o.length,r=0;r<n;r++)o[r].apply(this,s);return!0},EventEmitter.prototype.addListener=function(e,t){var i;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(i=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var n=!1;return i.listener=t,this.on(e,i),this},EventEmitter.prototype.removeListener=function(e,t){var i,n,s,r;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=this._events[e],s=i.length,n=-1,i===t||isFunction(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(i)){for(r=s;r-- >0;)if(i[r]===t||i[r].listener&&i[r].listener===t){n=r;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[e],isFunction(i))this.removeListener(e,i);else if(i)for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0},EventEmitter.listenerCount=function(e,t){return e.listenerCount(t)};
},{}]},{},[1]);
